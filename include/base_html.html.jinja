{#
 # SPDX-FileCopyrightText: 2025 David Mandelberg <david@mandelberg.org>
 #
 # SPDX-License-Identifier: Apache-2.0
 #}

{% set paths = ginjarator.py.import_("dseomn_website.paths") %}

{% macro write(
  url_path,
  title
) %}
  {% set write_caller = caller %}
  {% call ginjarator.fs.write_text_macro(paths.from_url_path(url_path)) -%}
    <!doctype html>
    <html dir="ltr" lang="en-US">
      <head>
        <meta charset="utf-8">
        <title>
          {{- (title, "David Mandelberg") | reject("none") | join(" â€” ") | e -}}
        </title>
        <meta name="viewport" content="width=device-width">
      </head>
      <body>
        <main>
          {{ write_caller() }}
        </main>
      </body>
    </html>
  {% endcall %}
{% endmacro %}
